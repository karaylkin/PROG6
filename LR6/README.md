# Сравнение производительности: Python vs Cython (метод Ферма)

## Введение

Цель: сравнить производительность метода Ферма в разных реализациях:

- Чистый Python (базовый шаг)
    
- Python с многопоточностью и многопроцессностью (Шаг 2)
    
- Cython с освобождением GIL (Шаг 3)
    

## Шаг 1 — Базовая реализация на Python

Реализация алгоритма Ферма на чистом Python без оптимизаций и без параллелизма.

**Результаты:**

![Pasted image 20250609182028](https://github.com/user-attachments/assets/53c8c13e-1c9a-4379-8579-fe348161789d)


![image](https://github.com/user-attachments/assets/9c96243e-235b-4271-a557-e27212ce6aa2)

## Шаг 2 — Многопоточность и многопроцессность (без `nogil`)

Тестирование производительности с использованием потоков и процессов Python и Cython (без освобождения GIL).

**Результаты:**

![image](https://github.com/user-attachments/assets/eaf02e1b-9d80-440b-9a64-5a9219415740)


![image](https://github.com/user-attachments/assets/0db259b3-3542-4180-b985-f14baff09159)

## Шаг 3 — Cython с освобождением GIL (с `nogil`)

Оптимизированная версия с использованием `with nogil` внутри Cython-функции и многопоточностью.

**Результаты:**

![image](https://github.com/user-attachments/assets/4cf9e0a8-b080-4600-a744-936eb9fec767)


![image](https://github.com/user-attachments/assets/003ee5e4-80d8-4ff1-bcf2-2bd6fe2ba3e5)

## Анализ

- Python потоки очень медленные из-за GIL
    
- Python процессы ускоряются, но не сравнятся с Cython
    
- Cython с `nogil` в потоках работает в десятки раз быстрее
    
- Cython процессы с `nogil` хороши, но уступают потокам из-за накладных расходов
    

## Вывод

`Cython + потоки с nogil` — лучший выбор при расчётах типа метода Ферма на небольших объёмах данных.

Если данных будет значительно больше (1000+), процессы начнут выигрывать из-за масштабируемости. Но на коротких списках потоки с `nogil` — победитель.

_Лабораторная полностью выполнена, шаги оформлены, сравнение проведено честно._
